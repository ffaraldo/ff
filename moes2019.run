/*---------------------------------------------------------------------------------------------------------------------------------------
Load the main model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019.mod;
data moes2019.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load buildings data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019AA.dat;
data moes2019AI.dat;
data moes2019BC.dat;
data moes2019BI.dat;
data moes2019BM.dat;
data moes2019BP.dat;
data moes2019BS.dat;
data moes2019CE.dat;
data moes2019CH.dat;
data moes2019CM.dat;
data moes2019CO.dat;
data moes2019CRPP.dat;
data moes2019DIA.dat;
data moes2019EL.dat;
data moes2019GC.dat;
data moes2019GR.dat;
data moes2019IN.dat;
data moes2019MA.dat;
data moes2019ME.dat;
data moes2019MX.dat;
data moes2019ODY.dat;
data moes2019PH.dat;
data moes2019PO.dat;
data moes2019PV.dat;
data moes2019TCV.dat;
/*---------------------------------------------------------------------------------------------------------------------------------------
Load the boiler model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019boiler.mod;
data moes2019boiler.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load the PV model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019PV.mod;
data moes2019PV.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load the SOFC model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
/* model moes2019SOFC.mod;
data moes2019SOFC.dat;
*/
/*---------------------------------------------------------------------------------------------------------------------------------------
Set the grid parameters: resource flow and fmax
---------------------------------------------------------------------------------------------------------------------------------------*/
let  Flowout['Natgas','NatGasGrid'] := refSize;
let  Fmax['NatGasGrid'] := refSize;
let  Flowout['Electricity','ElecGridBuy'] := refSize;
let  Fmax['ElecGridBuy'] := refSize;
let  Flowin['Electricity','ElecGridSell'] := refSize;
let  Fmax['ElecGridSell'] := refSize;

/*---------------------------------------------------------------------------------------------------------------------------------------
AMPL options
---------------------------------------------------------------------------------------------------------------------------------------*/
option solver 'gurobi';											# choose the solver
option omit_zero_rows 1;										# to not display 0 in rows
option omit_zero_cols 1;										# to not display 0 in columns

/*---------------------------------------------------------------------------------------------------------------------------------------
Solve the problem
---------------------------------------------------------------------------------------------------------------------------------------*/
solve;

/*---------------------------------------------------------------------------------------------------------------------------------------
Display commands
---------------------------------------------------------------------------------------------------------------------------------------*/
display Edemand;
display Qheating;
display Qheatingdemand;

display mult;
display mult_t;

display Flowin;
display Flowout;

display FlowInUnit;
display FlowOutUnit;

display Buildings;

display usedroofArea;

display InvCost;

display OpCost;

display use;

